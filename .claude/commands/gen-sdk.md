# Generate Frontend SDK

Generate TypeScript SDK for the frontend project based on backend Go code.

## Target

- Generate in current project: `generated/sdk/`
- Move to frontend: `/Users/easayliu/Documents/GitHub/orris-frontend/src/api/`

## Directory Structure (Domain-based)

```
generated/sdk/
  auth/
    types.ts
    client.ts
    index.ts
  user/
    types.ts
    client.ts
    index.ts
  subscription/
    types.ts
    client.ts
    index.ts
  ...
  index.ts          # Re-export all modules
```

## Instructions

1. Read the following backend files to understand API structure:

**Handlers** (API endpoints):
- `internal/interfaces/http/handlers/authhandler.go`
- `internal/interfaces/http/handlers/userhandler.go`
- `internal/interfaces/http/handlers/subscriptionhandler.go`
- `internal/interfaces/http/handlers/subscriptionplanhandler.go`
- `internal/interfaces/http/handlers/subscriptiontokenhandler.go`
- `internal/interfaces/http/handlers/notificationhandler.go`
- `internal/interfaces/http/handlers/paymenthandler.go`
- `internal/interfaces/http/handlers/profilehandler.go`
- `internal/interfaces/http/handlers/node/*.go`
- `internal/interfaces/http/handlers/forward/*.go`
- `internal/interfaces/http/handlers/ticket/*.go`
- `internal/interfaces/http/handlers/admin/*.go`

**DTOs** (Request/Response types):
- `internal/application/*/dto/*.go`

**Router** (Routes definition):
- `internal/interfaces/http/router.go`
- `internal/interfaces/http/routes/*.go`

2. Generate SDK files in `generated/sdk/` with these requirements:

**File: `generated/sdk/{module}/types.ts`**
- Convert Go DTO structs to TypeScript interfaces
- Use camelCase for property names (Go uses snake_case in JSON tags)
- Map Go types: `string` → `string`, `int/int64` → `number`, `bool` → `boolean`, `time.Time` → `string`, `uuid.UUID` → `string`
- Include JSDoc comments in English

**File: `generated/sdk/{module}/client.ts`**
- Import `apiClient` from `@/shared/lib/axios`
- Import `APIResponse`, `ListResponse` from `@/shared/types/api.types`
- Import types from `./types`
- Follow RESTful conventions
- Return unwrapped data (not APIResponse wrapper)
- Use English comments

**File: `generated/sdk/{module}/index.ts`**
- Re-export all types from `./types`
- Re-export all API functions from `./client`

**File: `generated/sdk/index.ts`**
- Re-export all modules: `export * from './auth'`

3. Add header comment to all generated files:
```typescript
/**
 * AUTO-GENERATED - DO NOT EDIT
 * Generated by Claude from backend Go code
 * Source: orris backend
 */
```

4. Follow existing patterns from frontend project:
- `/Users/easayliu/Documents/GitHub/orris-frontend/src/features/auth/api/auth-api.ts`
- `/Users/easayliu/Documents/GitHub/orris-frontend/src/features/nodes/api/nodes-api.ts`

## Module Filter

Argument: `$ARGUMENTS`

Available modules: auth, user, subscription, node, notification, payment, profile, forward, ticket, admin

- If module specified (e.g., `auth`), only generate SDK for that module
- If no module specified, generate full SDK for all modules

## Output

1. Generate SDK files to `generated/sdk/` in current project
2. After generation complete, copy to frontend project:
   ```bash
   rm -rf /Users/easayliu/Documents/GitHub/orris-frontend/src/api/*
   cp -r generated/sdk/* /Users/easayliu/Documents/GitHub/orris-frontend/src/api/
   rm -rf generated/sdk
   ```
