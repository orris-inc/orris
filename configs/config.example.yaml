# Orris Configuration
# Setup: cp config.example.yaml config.yaml
# Env vars override config: ORRIS_<SECTION>_<KEY> (e.g. ORRIS_SERVER_PORT=8080)

server:
  host: "0.0.0.0"
  port: 8080
  mode: "debug" # debug | release | test
  timezone: "Asia/Shanghai" # Business timezone for traffic statistics
  allowed_origins:
    - "http://localhost:3000"
  frontend_callback_url: "http://localhost:3000/oauth/callback"

database:
  host: "localhost"
  port: 3306
  username: "orris"
  password: "" # ORRIS_DATABASE_PASSWORD
  database: "orris"

logger:
  level: "info"   # debug | info | warn | error
  format: "console" # console | json

redis:
  host: "localhost"
  port: 6379
  password: "" # ORRIS_REDIS_PASSWORD
  db: 0

auth:
  jwt:
    secret: "" # ORRIS_AUTH_JWT_SECRET (required)
    access_exp_minutes: 15
    refresh_exp_days: 7
  cookie:
    secure: false # true in production
    same_site: "Lax"

subscription:
  templates_path: "./configs/sub"

admin:
  email: ""    # ORRIS_ADMIN_EMAIL
  password: "" # ORRIS_ADMIN_PASSWORD

oauth:
  google:
    client_id: ""     # ORRIS_OAUTH_GOOGLE_CLIENT_ID
    client_secret: "" # ORRIS_OAUTH_GOOGLE_CLIENT_SECRET
  github:
    client_id: ""     # ORRIS_OAUTH_GITHUB_CLIENT_ID
    client_secret: "" # ORRIS_OAUTH_GITHUB_CLIENT_SECRET

telegram:
  bot_token: ""       # ORRIS_TELEGRAM_BOT_TOKEN (from @BotFather)
  webhook_url: ""     # ORRIS_TELEGRAM_WEBHOOK_URL (optional, auto-derived from server.base_url if empty)
  webhook_secret: ""  # ORRIS_TELEGRAM_WEBHOOK_SECRET (optional)
